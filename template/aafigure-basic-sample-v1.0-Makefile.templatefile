aafigures    = $(wildcard *.aafigure)
EXT          = .svg

.SUFFIXES:              # Delete the default suffixes
.SUFFIXES: .aafigure    $(EXT) # Define our suffix list

# -------------------------------------------------------------------------- #
# -------------------------------------------------------------------------- #
# -------------------------------------------------------------------------- #
AAFIGURE     = aafigure
AAFIGUREFLAGS=

# -------------------------------------------------------------------------- #
# shell macro
# -------------------------------------------------------------------------- #
targets=\
	for d in $(aafigures); \
	do \
		echo $${d%.aafigure}$(EXT); \
	done
##############################################################################

%$(EXT): %.aafigure
	$(AAFIGURE) $< -t svg -o $@

# -------------------------------------------------------------------------- #
# -------------------------------------------------------------------------- #
# -------------------------------------------------------------------------- #

all: $(shell $(targets))
#
# ============================================================================
#

clean:
	-rm -rf $(addprefix *, $(EXT))
# END OF FILE


